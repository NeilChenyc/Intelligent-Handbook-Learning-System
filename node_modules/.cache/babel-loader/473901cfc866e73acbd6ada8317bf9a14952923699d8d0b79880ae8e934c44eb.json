{"ast":null,"code":"import React from'react';import{cn}from'../lib/utils';import{Home,CheckSquare,FileText,RotateCcw,TrendingUp,FileCheck,Award,LogOut,BookOpen}from'lucide-react';import{useAuth}from'../contexts/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Sidebar=_ref=>{var _user$name;let{activeMenu,onMenuChange}=_ref;const{user,isAdmin,logout}=useAuth();// 基础菜单项\nconst baseMenuItems=[{id:'home',label:'学习首页',icon:Home},{id:'tasks',label:'我的课程',icon:CheckSquare},{id:'retry',label:'错题重做',icon:RotateCcw},{id:'progress',label:'学习进度',icon:TrendingUp},{id:'certificate',label:'证书中心',icon:Award}];// 管理员专用菜单项\nconst adminMenuItems=[{id:'course-management',label:'课程管理',icon:BookOpen},{id:'report',label:'合规报告',icon:FileCheck}];// 根据用户身份动态生成菜单项\nconst menuItems=isAdmin()?[...baseMenuItems.slice(0,4),...adminMenuItems,baseMenuItems[4]]// 在证书中心前插入管理员菜单项\n:baseMenuItems;const handleLogout=()=>{logout();};return/*#__PURE__*/_jsxs(\"aside\",{className:\"w-64 bg-gray-50 border-r border-gray-200 h-full flex flex-col\",children:[/*#__PURE__*/_jsx(\"nav\",{className:\"p-4 flex-1\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-2\",children:menuItems.map(item=>{const Icon=item.icon;return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>onMenuChange(item.id),className:cn('w-full flex items-center space-x-3 px-4 py-3 text-left rounded-lg transition-colors',activeMenu===item.id?'bg-blue-100 text-blue-700 border border-blue-200':'text-gray-700 hover:bg-gray-100'),children:[/*#__PURE__*/_jsx(Icon,{className:\"w-5 h-5\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:item.label})]})},item.id);})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border-t border-gray-200\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-3 p-3 bg-white rounded-lg border border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-white text-sm font-medium\",children:(user===null||user===void 0?void 0:(_user$name=user.name)===null||_user$name===void 0?void 0:_user$name.charAt(0))||'U'})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-900 truncate\",children:(user===null||user===void 0?void 0:user.name)||'用户'}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:(user===null||user===void 0?void 0:user.role)==='admin'?'管理员':'学员'})]})]})}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleLogout,className:\"w-full flex items-center space-x-3 px-4 py-2 text-left rounded-lg transition-colors text-red-600 hover:bg-red-50\",children:[/*#__PURE__*/_jsx(LogOut,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"\\u9000\\u51FA\\u767B\\u5F55\"})]})]})]});};export default Sidebar;","map":{"version":3,"names":["React","cn","Home","CheckSquare","FileText","RotateCcw","TrendingUp","FileCheck","Award","LogOut","BookOpen","useAuth","jsx","_jsx","jsxs","_jsxs","Sidebar","_ref","_user$name","activeMenu","onMenuChange","user","isAdmin","logout","baseMenuItems","id","label","icon","adminMenuItems","menuItems","slice","handleLogout","className","children","map","item","Icon","onClick","name","charAt","role"],"sources":["/Users/a99/localDocuments/codeBase/ideaWorkplace/5620/src/components/Sidebar.jsx"],"sourcesContent":["import React from 'react';\nimport { cn } from '../lib/utils';\nimport { \n  Home, \n  CheckSquare, \n  FileText, \n  RotateCcw, \n  TrendingUp, \n  FileCheck, \n  Award,\n  LogOut,\n  BookOpen\n} from 'lucide-react';\nimport { useAuth } from '../contexts/AuthContext';\n\nconst Sidebar = ({ activeMenu, onMenuChange }) => {\n  const { user, isAdmin, logout } = useAuth();\n\n  // 基础菜单项\n  const baseMenuItems = [\n    { id: 'home', label: '学习首页', icon: Home },\n    { id: 'tasks', label: '我的课程', icon: CheckSquare },\n    { id: 'retry', label: '错题重做', icon: RotateCcw },\n    { id: 'progress', label: '学习进度', icon: TrendingUp },\n    { id: 'certificate', label: '证书中心', icon: Award },\n  ];\n\n  // 管理员专用菜单项\n  const adminMenuItems = [\n    { id: 'course-management', label: '课程管理', icon: BookOpen },\n    { id: 'report', label: '合规报告', icon: FileCheck },\n  ];\n\n  // 根据用户身份动态生成菜单项\n  const menuItems = isAdmin() \n    ? [...baseMenuItems.slice(0, 4), ...adminMenuItems, baseMenuItems[4]] // 在证书中心前插入管理员菜单项\n    : baseMenuItems;\n\n  const handleLogout = () => {\n    logout();\n  };\n\n  return (\n    <aside className=\"w-64 bg-gray-50 border-r border-gray-200 h-full flex flex-col\">\n      <nav className=\"p-4 flex-1\">\n        <ul className=\"space-y-2\">\n          {menuItems.map((item) => {\n            const Icon = item.icon;\n            return (\n              <li key={item.id}>\n                <button\n                  onClick={() => onMenuChange(item.id)}\n                  className={cn(\n                    'w-full flex items-center space-x-3 px-4 py-3 text-left rounded-lg transition-colors',\n                    activeMenu === item.id\n                      ? 'bg-blue-100 text-blue-700 border border-blue-200'\n                      : 'text-gray-700 hover:bg-gray-100'\n                  )}\n                >\n                  <Icon className=\"w-5 h-5\" />\n                  <span className=\"font-medium\">{item.label}</span>\n                </button>\n              </li>\n            );\n          })}\n        </ul>\n      </nav>\n      \n      {/* 用户信息和登出按钮 */}\n      <div className=\"p-4 border-t border-gray-200\">\n        <div className=\"mb-3 p-3 bg-white rounded-lg border border-gray-200\">\n          <div className=\"flex items-center space-x-2\">\n            <div className=\"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center\">\n              <span className=\"text-white text-sm font-medium\">\n                {user?.name?.charAt(0) || 'U'}\n              </span>\n            </div>\n            <div className=\"flex-1 min-w-0\">\n              <p className=\"text-sm font-medium text-gray-900 truncate\">\n                {user?.name || '用户'}\n              </p>\n              <p className=\"text-xs text-gray-500\">\n                {user?.role === 'admin' ? '管理员' : '学员'}\n              </p>\n            </div>\n          </div>\n        </div>\n        <button\n          onClick={handleLogout}\n          className=\"w-full flex items-center space-x-3 px-4 py-2 text-left rounded-lg transition-colors text-red-600 hover:bg-red-50\"\n        >\n          <LogOut className=\"w-4 h-4\" />\n          <span className=\"font-medium\">退出登录</span>\n        </button>\n      </div>\n    </aside>\n  );\n};\n\nexport default Sidebar;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,EAAE,KAAQ,cAAc,CACjC,OACEC,IAAI,CACJC,WAAW,CACXC,QAAQ,CACRC,SAAS,CACTC,UAAU,CACVC,SAAS,CACTC,KAAK,CACLC,MAAM,CACNC,QAAQ,KACH,cAAc,CACrB,OAASC,OAAO,KAAQ,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAElD,KAAM,CAAAC,OAAO,CAAGC,IAAA,EAAkC,KAAAC,UAAA,IAAjC,CAAEC,UAAU,CAAEC,YAAa,CAAC,CAAAH,IAAA,CAC3C,KAAM,CAAEI,IAAI,CAAEC,OAAO,CAAEC,MAAO,CAAC,CAAGZ,OAAO,CAAC,CAAC,CAE3C;AACA,KAAM,CAAAa,aAAa,CAAG,CACpB,CAAEC,EAAE,CAAE,MAAM,CAAEC,KAAK,CAAE,MAAM,CAAEC,IAAI,CAAEzB,IAAK,CAAC,CACzC,CAAEuB,EAAE,CAAE,OAAO,CAAEC,KAAK,CAAE,MAAM,CAAEC,IAAI,CAAExB,WAAY,CAAC,CACjD,CAAEsB,EAAE,CAAE,OAAO,CAAEC,KAAK,CAAE,MAAM,CAAEC,IAAI,CAAEtB,SAAU,CAAC,CAC/C,CAAEoB,EAAE,CAAE,UAAU,CAAEC,KAAK,CAAE,MAAM,CAAEC,IAAI,CAAErB,UAAW,CAAC,CACnD,CAAEmB,EAAE,CAAE,aAAa,CAAEC,KAAK,CAAE,MAAM,CAAEC,IAAI,CAAEnB,KAAM,CAAC,CAClD,CAED;AACA,KAAM,CAAAoB,cAAc,CAAG,CACrB,CAAEH,EAAE,CAAE,mBAAmB,CAAEC,KAAK,CAAE,MAAM,CAAEC,IAAI,CAAEjB,QAAS,CAAC,CAC1D,CAAEe,EAAE,CAAE,QAAQ,CAAEC,KAAK,CAAE,MAAM,CAAEC,IAAI,CAAEpB,SAAU,CAAC,CACjD,CAED;AACA,KAAM,CAAAsB,SAAS,CAAGP,OAAO,CAAC,CAAC,CACvB,CAAC,GAAGE,aAAa,CAACM,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAAE,GAAGF,cAAc,CAAEJ,aAAa,CAAC,CAAC,CAAC,CAAE;AAAA,CACpEA,aAAa,CAEjB,KAAM,CAAAO,YAAY,CAAGA,CAAA,GAAM,CACzBR,MAAM,CAAC,CAAC,CACV,CAAC,CAED,mBACER,KAAA,UAAOiB,SAAS,CAAC,+DAA+D,CAAAC,QAAA,eAC9EpB,IAAA,QAAKmB,SAAS,CAAC,YAAY,CAAAC,QAAA,cACzBpB,IAAA,OAAImB,SAAS,CAAC,WAAW,CAAAC,QAAA,CACtBJ,SAAS,CAACK,GAAG,CAAEC,IAAI,EAAK,CACvB,KAAM,CAAAC,IAAI,CAAGD,IAAI,CAACR,IAAI,CACtB,mBACEd,IAAA,OAAAoB,QAAA,cACElB,KAAA,WACEsB,OAAO,CAAEA,CAAA,GAAMjB,YAAY,CAACe,IAAI,CAACV,EAAE,CAAE,CACrCO,SAAS,CAAE/B,EAAE,CACX,qFAAqF,CACrFkB,UAAU,GAAKgB,IAAI,CAACV,EAAE,CAClB,kDAAkD,CAClD,iCACN,CAAE,CAAAQ,QAAA,eAEFpB,IAAA,CAACuB,IAAI,EAACJ,SAAS,CAAC,SAAS,CAAE,CAAC,cAC5BnB,IAAA,SAAMmB,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAEE,IAAI,CAACT,KAAK,CAAO,CAAC,EAC3C,CAAC,EAZFS,IAAI,CAACV,EAaV,CAAC,CAET,CAAC,CAAC,CACA,CAAC,CACF,CAAC,cAGNV,KAAA,QAAKiB,SAAS,CAAC,8BAA8B,CAAAC,QAAA,eAC3CpB,IAAA,QAAKmB,SAAS,CAAC,qDAAqD,CAAAC,QAAA,cAClElB,KAAA,QAAKiB,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1CpB,IAAA,QAAKmB,SAAS,CAAC,mEAAmE,CAAAC,QAAA,cAChFpB,IAAA,SAAMmB,SAAS,CAAC,gCAAgC,CAAAC,QAAA,CAC7C,CAAAZ,IAAI,SAAJA,IAAI,kBAAAH,UAAA,CAAJG,IAAI,CAAEiB,IAAI,UAAApB,UAAA,iBAAVA,UAAA,CAAYqB,MAAM,CAAC,CAAC,CAAC,GAAI,GAAG,CACzB,CAAC,CACJ,CAAC,cACNxB,KAAA,QAAKiB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BpB,IAAA,MAAGmB,SAAS,CAAC,4CAA4C,CAAAC,QAAA,CACtD,CAAAZ,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEiB,IAAI,GAAI,IAAI,CAClB,CAAC,cACJzB,IAAA,MAAGmB,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CACjC,CAAAZ,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEmB,IAAI,IAAK,OAAO,CAAG,KAAK,CAAG,IAAI,CACrC,CAAC,EACD,CAAC,EACH,CAAC,CACH,CAAC,cACNzB,KAAA,WACEsB,OAAO,CAAEN,YAAa,CACtBC,SAAS,CAAC,kHAAkH,CAAAC,QAAA,eAE5HpB,IAAA,CAACJ,MAAM,EAACuB,SAAS,CAAC,SAAS,CAAE,CAAC,cAC9BnB,IAAA,SAAMmB,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAC,0BAAI,CAAM,CAAC,EACnC,CAAC,EACN,CAAC,EACD,CAAC,CAEZ,CAAC,CAED,cAAe,CAAAjB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}